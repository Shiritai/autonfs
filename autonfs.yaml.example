# AutoNFS Configuration Example (autonfs.yaml)
#
# This is a declarative configuration file for defining your NFS hosts and mount points.
# To check for potential changes without applying them, use:
#   $ autonfs apply -f autonfs.yaml --dry-run
#
# To apply the configuration (atomic deployment & self-healing):
#   $ autonfs apply -f autonfs.yaml

hosts:
  # ==========================================
  # Example 1: Standard NAS Setup
  # ==========================================
  - alias: "my-nas"   # SSH Alias (must match ~/.ssh/config) or Hostname
    
    # [Power Management]
    # idle_timeout: How long to monitor for inactivity before shutting down the server.
    #   Supported units: s (seconds), m (minutes), h (hours).
    #   Default: "5m" (5 minutes)
    idle_timeout: "30m"

    # wake_timeout: Maximum time to wait for the server to become reachable after sending WoL.
    #   Increase this if your server takes a long time to boot (e.g., RAID checks).
    #   Default: "120s"
    wake_timeout: "180s"

    mounts:
      # Mount 1: Movies
      - local: "/mnt/movies"        # Local path (Client)
        remote: "/volume1/movies"   # Remote path (Server)

      # Mount 2: Backups (Shares the same connection/monitor as above)
      - local: "/mnt/backups"
        remote: "/volume1/backups"

  # ==========================================
  # Example 2: Minimal Configuration
  # ==========================================
  - alias: "low-power-pi"
    # Uses default timeouts (Idle: 5m, Wake: 120s)
    mounts:
      - local: "/mnt/pi_share"
        remote: "/srv/nfs/share"
